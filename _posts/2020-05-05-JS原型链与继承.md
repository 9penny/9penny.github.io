---
layout: post
title: "JS原型链与继承"
date:   2020-05-04
tags: [JavaScript]
comments: true
author: 9penny
toc: true

---

# 原型与继承

## 原型继承

在编程中，我们经常会想获取并扩展一些东西。

例如，我们有一个 `user` 对象及其属性和方法，并希望将 `admin` 和 `guest` 作为基于 `user` 稍加修改的变体。我们想重用 `user` 中的内容，而不是复制/重新实现它的方法，而只是在其之上构建一个新的对象。

**原型继承（Prototypal inheritance）** 这个语言特性能够帮助我们实现这一需求。

### [[Prototype]]

Prototype是JavaScript中对象的一个隐藏属性, 它是`null`或者对另一个对象的引用, 该对象被称为"原型"

![](https://raw.githubusercontent.com/9penny/Image-hosting/main/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202021-05-05%20224658.png)

当我们从 `object` 中读取一个缺失的属性时，JavaScript 会自动从原型中获取该属性。在编程中，这种行为被称为“原型继承”。

属性 `[[Prototype]]` 是内部的而且是隐藏的，但是这儿有很多设置它的方式。

其中之一就是使用特殊的名字 `__proto__`

```JavaScript
let animal = {
    eats: true
};

let rabbit = {
    jumps: true
};

rabbit.__proto__ = animal; // 设置rabbit.[[Prototype]] = animal

alert(rabbit.jumps); // true
```

![](https://raw.githubusercontent.com/9penny/Image-hosting/main/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202021-05-05%20230236.png)

